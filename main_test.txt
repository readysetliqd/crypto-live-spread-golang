package main

import (
	"log"

	"github.com/readysetliqd/crypto-live-spread-golang/backend/data"
	bitgetspot "github.com/readysetliqd/crypto-live-spread-golang/backend/exchanges/bitget-spot"
)

func ConnectBitgetSpotWebsocket(pair string) {
	channelBitgetSpot := make(chan data.Spread)
	go bitgetspot.GetSpread(channelBitgetSpot, pair)
	var spreadData = data.Spread{}
	for {
		select {
		case spreadData = <-channelBitgetSpot:
			log.Println(spreadData.BidVolume, spreadData.Bid, spreadData.Ask, spreadData.AskVolume)
		}
	}
}

func main() {
	ConnectBitgetSpotWebsocket("BTCUSDT")
}
