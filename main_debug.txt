package main

import (
	"log"

	"github.com/readysetliqd/crypto-live-spread-golang/backend/data"
	bybitspot "github.com/readysetliqd/crypto-live-spread-golang/backend/exchanges/bybit-spot"
)

func ConnectBybitSpotWebsocket(pair string) {
	channelBybitSpot := make(chan data.Spread)
	go bybitspot.GetSpread(channelBybitSpot, pair)
	var spreadData = data.Spread{}
	for {
		select {
		case spreadData = <-channelBybitSpot:
			log.Println(spreadData.BidVolume, spreadData.Bid, spreadData.Ask, spreadData.AskVolume)
		}
	}
}

func main() {
	ConnectBybitSpotWebsocket("BTCUSDT")
}
